local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

local Players = game:GetService("Players")
local Lighting = game:GetService("Lighting")
local RunService = game:GetService("RunService")
local VirtualUser = game:GetService("VirtualUser")
local player = Players.LocalPlayer


local Window = WindUI:CreateWindow({
    Title = "TeeHub - Universal",
    Icon = "activity",
    Folder = "teehub",
    Size = UDim2.fromOffset(580, 460),
    MinSize = Vector2.new(560, 350),
    MaxSize = Vector2.new(850, 560),
    Transparent = true,
    Theme = "Dark",
    Resizable = true,
    SideBarWidth = 200,
    BackgroundImageTransparency = 0.42,
    HideSearchBar = true,
    ScrollBarEnabled = false,
    User = {
        Enabled = true,
        Anonymous = false,
        Callback = function()
            WindUI:Notify({
                Title = "Your Profile",
                Content = "literally you lol",
                Duration = 3,
            })
        end
    }
})

local Main = Window:Tab({ Title = "Main", Icon = "box", Locked = true })
local Player = Window:Tab({ Title = "Player", Icon = "user", Locked = true })
local Tele = Window:Tab({ Title = "Teleports", Icon = "cloud", Locked = true })
local Misc = Window:Tab({ Title = "Misc", Icon = "cpu", Locked = false })

local gui = Instance.new("ScreenGui")
gui.ResetOnSpawn = false
gui.IgnoreGuiInset = true
gui.Parent = player:WaitForChild("PlayerGui")

local black = Instance.new("Frame")
black.Parent = gui
black.Size = UDim2.fromScale(1, 1)
black.Position = UDim2.fromScale(0, 0)
black.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
black.ZIndex = 5
black.Visible = false
black.Active = false

local states = {
    screenMode = false,
    antiIdle   = false,
}

local renderConn
local antiIdleConn

Misc:Toggle({
    Title = "Anti-AFK",
    Icon = "activity",
    Default = false,
    Callback = function(state)
        states.antiIdle = state
        if state then
            antiIdleConn = player.Idled:Connect(function()
                VirtualUser:CaptureController()
                VirtualUser:ClickButton2(Vector2.new())
            end)
        else
            if antiIdleConn then antiIdleConn:Disconnect(); antiIdleConn = nil end
        end
    end,
})

Misc:Toggle({
    Title = "3D-Render",
    Icon = "monitor-off",
    Desc = "Black screen + 3D-rendering disabled",
    Default = false,
    Callback = function(state)
        states.screenMode = state
        black.Visible = state

        if state then
            renderConn = RunService.RenderStepped:Connect(function()
                RunService:Set3dRenderingEnabled(false)
            end)
        else
            if renderConn then renderConn:Disconnect(); renderConn = nil end
            RunService:Set3dRenderingEnabled(true)
        end
    end,
})

Misc:Divider()

Misc:Keybind({
    Title = "Close Window",
    Desc = "Keybind to close & open menu",
    Value = "RightAlt",
    Callback = function(v)
        Window:SetToggleKey(Enum.KeyCode[v])
    end,
})

Misc:Slider({
    Title = "FPS Cap",
    Step = 1,
    Value = {
        Min = 15,
        Max = 240,
        Default = 60,
    },
    Callback = function(value)
        if setfpscap then
            setfpscap(value)
        elseif set_fps_cap then
            set_fps_cap(value)
        else
            WindUI:Notify({
                Title = "Error",
                Content = "setfpscap is not supported by your executor.",
                Duration = 3,
            })
        end
    end
})

player.CharacterAdded:Connect(function()
    task.wait(1)
    if states.noLights then applyNoLights(true) end
    if states.potatoMode then applyPotatoMode(true) end
end)

loadstring(game:HttpGet("https://raw.githubusercontent.com/g70xl0l/teehub/refs/heads/main/version"))()
